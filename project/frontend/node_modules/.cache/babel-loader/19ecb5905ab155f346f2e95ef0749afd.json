{"ast":null,"code":"var _jsxFileName = \"/Users/asiataylor/Development/env1/django-drf-react/project/frontend/src/components/views/Category.js\";\nimport React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport '../static/Home.css';\nimport { Link } from 'react-router-dom';\nimport Navbar from './Navbar';\nimport { FaComments } from 'react-icons/fa';\n\nclass Category extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      topics: [],\n      category: \"\"\n    };\n  }\n\n  componentWillMount() {\n    fetch(\"/api/post/\".concat(this.props.match.params.category_id, \"/\")).then(response => {\n      return response.json();\n    }).then(responseData => {\n      return responseData;\n    }).then(json => this.setState({\n      topics: json\n    })).catch(err => {\n      console.log(\"fetch error\" + err);\n    });\n  }\n\n  componentDidMount() {\n    this.setState({\n      category: this.props.location.state.name\n    });\n  }\n\n  render() {\n    console.log(this.state.topics);\n    return React.createElement(\"div\", {\n      id: \"category\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"flex-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"forum-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"recent-topics\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"Recent Topics\")), React.createElement(\"div\", {\n      id: \"category-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, this.state.category), React.createElement(\"table\", {\n      className: \"table\",\n      id: \"about-me\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"Topic\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Posts\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, this.state.topics.map((el, idx) => {\n      return [React.createElement(\"tr\", {\n        key: el.idx,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"forums/\" + el.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, el.name)), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(FaComments, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), \" \", el.posts))];\n    })))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.auth.user\n  };\n};\n\nexport default connect(mapStateToProps)(Category);","map":{"version":3,"sources":["/Users/asiataylor/Development/env1/django-drf-react/project/frontend/src/components/views/Category.js"],"names":["React","Component","connect","Link","Navbar","FaComments","Category","state","topics","category","componentWillMount","fetch","props","match","params","category_id","then","response","json","responseData","setState","catch","err","console","log","componentDidMount","location","name","render","map","el","idx","id","posts","mapStateToProps","user","auth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {connect} from \"react-redux\";\nimport '../static/Home.css';\nimport {Link} from 'react-router-dom';\nimport Navbar from './Navbar';\nimport {FaComments} from 'react-icons/fa';\n\n\nclass Category extends Component{\n\n\n      state = {\n        topics:[],\n        category:\"\"\n      }\n\n    componentWillMount(){\n      fetch(`/api/post/${this.props.match.params.category_id}/`)\n        .then(response => { return response.json();}).then(responseData => {return responseData;})\n        .then (json =>this.setState({topics: json}))\n        .catch(err => {console.log(\"fetch error\" + err);\n         });\n    }\n\n    componentDidMount () {\n    this.setState({category:this.props.location.state.name})\n    }\n\n\n    render(){\n      console.log(this.state.topics)\n      return(\n      <div id=\"category\">\n        <header>\n          <Navbar/>\n        </header>\n        <div className=\"flex-box\">\n          <div className=\"forum-body\">\n            <div id=\"recent-topics\">\n              <h2>Recent Topics</h2>\n            </div>\n\n            <div id=\"category-list\">\n              <h1>{this.state.category}</h1>\n              <table className=\"table\" id=\"about-me\">\n                <thead>\n                  <tr>\n                    <th>Topic</th>\n                    <th>Posts</th>\n                  </tr>\n                </thead>\n                <tbody>\n                {\n                  this.state.topics.map((el,idx) => {\n                      return[\n                        <tr key={el.idx}><td><Link to={\"forums/\"+el.id}>{el.name}</Link></td><td><FaComments/> {el.posts}</td></tr>\n                      ];\n                  })\n                }\n                </tbody>\n              </table>\n\n            </div>\n          </div>\n        </div>\n      </div>\n      )\n    }\n  }\n\nconst mapStateToProps = state => {\n    return {\n      user: state.auth.user,\n    }\n}\n\nexport default connect(mapStateToProps)(Category);\n"]},"metadata":{},"sourceType":"module"}