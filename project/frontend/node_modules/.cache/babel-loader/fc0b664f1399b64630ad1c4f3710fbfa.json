{"ast":null,"code":"var _jsxFileName = \"/Users/asiataylor/Development/env1/django-drf-react/project/frontend/src/components/forms/Settings.js\";\nimport React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport { auth } from \"../../actions\";\nimport '../static/Home.css';\nimport Popup from './Popup';\nimport { headers } from './global.js';\n\nclass UserSettings extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: {},\n      showPopup: false\n    };\n\n    this.updateSubmit = e => {\n      e.preventDefault();\n      let new_pass = document.getElementById(\"pass\").value;\n\n      if (new_pass !== \"\") {\n        if (new_pass === document.getElementById(\"confirm_pass\").value) {\n          this.handleChange(\"password\", new_pass);\n        } else {\n          alert(\"Passwords do not match\");\n        }\n      }\n\n      this.props.updateUser(this.state.user, headers['X-CSRFToken']);\n    };\n\n    this.togglePopup = e => {\n      e.preventDefault();\n      this.setState({\n        showPopup: !this.state.showPopup\n      });\n    };\n\n    this.deleteUser = e => {\n      this.props.deleteUser();\n      this.props.history.pushState(null, \"\");\n    };\n  }\n\n  handleChange(param, value) {\n    let updatedUser = this.state.user;\n    updatedUser[param] = value;\n    this.setState({\n      user: updatedUser\n    });\n  }\n\n  render() {\n    console.log(this.props);\n    return React.createElement(\"div\", {\n      className: \"form-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      id: \"banner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Account Settings\"), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      defaultValue: this.props.user.first_name,\n      type: \"text\",\n      placeholder: \"First Name\",\n      maxLength: \"30\",\n      pattern: \"^[a-zA-Z]+$\",\n      onChange: e => this.handleChange(\"first_name\", e.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      defaultValue: this.props.user.last_name,\n      type: \"text\",\n      placeholder: \"Last Name\",\n      maxLength: \"150\",\n      pattern: \"^[a-zA-Z]+$\",\n      onChange: e => this.handleChange(\"last_name\", e.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"inputdiv col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      defaultValue: this.props.user.username,\n      type: \"text\",\n      placeholder: \"Username\",\n      maxLength: \"30\",\n      pattern: \"^[a-zA-Z0-9]+$\",\n      onChange: e => this.handleChange(\"username\", e.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"inputdiv col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      defaultValue: this.props.user.email,\n      type: \"email\",\n      placeholder: \"Email\",\n      maxLength: \"254\",\n      onChange: e => this.handleChange(\"email\", e.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"inputdiv col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      defaultValue: this.props.user.type,\n      className: \"\",\n      placeholder: \"Account Type\",\n      onChange: e => this.handleChange(\"type\", e.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"ME\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Mentee\"), React.createElement(\"option\", {\n      value: \"MR\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Mentor\"))), React.createElement(\"div\", {\n      className: \"inputdiv col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"pass\",\n      type: \"password\",\n      placeholder: \"Password\",\n      maxLength: \"128\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"inputdiv col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"confirm_pass\",\n      type: \"password\",\n      placeholder: \"Confirm Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })))), React.createElement(\"button\", {\n      onClick: this.updateSubmit,\n      className: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Save\"), React.createElement(\"button\", {\n      id: \"delete-user\",\n      className: \"submit\",\n      onClick: this.togglePopup.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Delete Account\"), this.state.showPopup ? React.createElement(Popup, {\n      action_text: \"Delete Account\",\n      doSomething: this.deleteUser,\n      text: \"Are you sure you want to delete your account?\",\n      closePopup: this.togglePopup.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }) : null);\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    deleteUser: () => {\n      return dispatch(auth.deleteUser());\n    },\n    updateUser: (user, csrftoken) => {\n      return dispatch(auth.updateUser(user, csrftoken));\n    }\n  };\n};\n\nconst mapStateToProps = state => {\n  return {\n    user: state.auth.user,\n    token: state.auth.token\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserSettings);","map":{"version":3,"sources":["/Users/asiataylor/Development/env1/django-drf-react/project/frontend/src/components/forms/Settings.js"],"names":["React","Component","connect","auth","Popup","headers","UserSettings","state","user","showPopup","updateSubmit","e","preventDefault","new_pass","document","getElementById","value","handleChange","alert","props","updateUser","togglePopup","setState","deleteUser","history","pushState","param","updatedUser","render","console","log","first_name","target","last_name","username","email","type","bind","mapDispatchToProps","dispatch","csrftoken","mapStateToProps","token"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {connect} from \"react-redux\";\nimport {auth} from \"../../actions\";\nimport '../static/Home.css';\nimport Popup from './Popup';\nimport {headers} from './global.js'\n\n\nclass UserSettings extends Component {\n\n  state = {\n    user:{},\n    showPopup: false,\n   };\n\n   updateSubmit = e => {\n     e.preventDefault();\n     let new_pass = document.getElementById(\"pass\").value;\n     if(new_pass !== \"\"){\n        if(new_pass === document.getElementById(\"confirm_pass\").value){\n          this.handleChange(\"password\",new_pass);\n        } else{\n          alert(\"Passwords do not match\")\n        }\n     }\n      this.props.updateUser(this.state.user,headers['X-CSRFToken']);\n   }\n\n  togglePopup= e => {\n    e.preventDefault();\n    this.setState({\n     showPopup: !this.state.showPopup\n    });\n  }\n\n  deleteUser = (e) =>{\n    this.props.deleteUser();\n    this.props.history.pushState(null,\"\");\n  }\n\n  handleChange(param,value){\n    let updatedUser = this.state.user;\n    updatedUser[param]=value;\n    this.setState({user:updatedUser})\n  }\n\n  render () {\n    console.log(this.props)\n      return (\n    <div className=\"form-container\">\n      <p id = \"banner\">Account Settings</p>\n      <form>\n        <div className=\"row \">\n          <div className=\"col-6\">\n            <input defaultValue={this.props.user.first_name}  type=\"text\" placeholder=\"First Name\" maxLength=\"30\" pattern=\"^[a-zA-Z]+$\"\n            onChange={e => this.handleChange(\"first_name\", e.target.value)} />\n          </div>\n          <div className=\"col-6\">\n            <input defaultValue={this.props.user.last_name} type=\"text\" placeholder=\"Last Name\" maxLength=\"150\" pattern=\"^[a-zA-Z]+$\"\n            onChange={e => this.handleChange(\"last_name\", e.target.value)}/>\n          </div>\n        </div>\n\n        <div className = \"row\">\n          <div className=\"inputdiv col-12\">\n            <input defaultValue={this.props.user.username}  type=\"text\" placeholder=\"Username\" maxLength=\"30\" pattern=\"^[a-zA-Z0-9]+$\"\n            onChange={e => this.handleChange(\"username\", e.target.value)}/>\n          </div>\n\n          <div className=\"inputdiv col-12\">\n            <input defaultValue={this.props.user.email}  type=\"email\" placeholder=\"Email\"  maxLength=\"254\"\n            onChange={e => this.handleChange(\"email\", e.target.value)}/>\n          </div>\n\n          <div className=\"inputdiv col-12\">\n            <select defaultValue={this.props.user.type} className=\"\" placeholder=\"Account Type\"  onChange={e => this.handleChange(\"type\",e.target.value)}>\n              <option value=\"ME\">Mentee</option>\n              <option value=\"MR\">Mentor</option>\n            </select>\n          </div>\n\n          <div className=\"inputdiv col-12\">\n            <input id=\"pass\" type=\"password\" placeholder=\"Password\" maxLength=\"128\"/>\n          </div>\n\n          <div className=\"inputdiv col-12\">\n            <input id=\"confirm_pass\"  type=\"password\" placeholder=\"Confirm Password\"/>\n          </div>\n        </div>\n      </form>\n\n      <button onClick={this.updateSubmit} className =\"submit\">Save</button>\n\n      <button id=\"delete-user\" className=\"submit\" onClick={this.togglePopup.bind(this)}>Delete Account</button>\n\n      {this.state.showPopup ?\n      <Popup  action_text=\"Delete Account\" doSomething={this.deleteUser}\n                text='Are you sure you want to delete your account?'\n                closePopup={this.togglePopup.bind(this)}\n      />\n      : null\n      }\n\n      </div>\n\n      );\n   }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    deleteUser: () => {\n      return dispatch(auth.deleteUser());\n    },\n    updateUser: (user,csrftoken) => {\n      return dispatch(auth.updateUser(user,csrftoken));\n    }\n  };\n}\n\nconst mapStateToProps = state => {\n    return {\n        user: state.auth.user,\n        token: state.auth.token,\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserSettings);\n"]},"metadata":{},"sourceType":"module"}