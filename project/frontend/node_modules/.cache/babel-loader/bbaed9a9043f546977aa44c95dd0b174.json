{"ast":null,"code":"import _objectSpread from \"/Users/asiataylor/Development/env1/django-drf-react/project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nconst initialState = {\n  token: localStorage.getItem(\"token\"),\n  isAuthenticated: null,\n  isLoading: true,\n  user: null,\n  errors: {},\n  login_errors: {}\n};\nexport default function auth(state = initialState, action) {\n  switch (action.type) {\n    case 'USER_LOADING':\n      return _objectSpread({}, state, {\n        isLoading: true\n      });\n\n    case 'USER_LOADED':\n      return _objectSpread({}, state, {\n        isAuthenticated: true,\n        isLoading: false,\n        user: action.user\n      });\n\n    case 'REGISTRATION_SUCCESSFUL':\n      localStorage.setItem(\"token\", action.data.token);\n      return _objectSpread({}, state, action.data, {\n        isAuthenticated: true,\n        isLoading: false,\n        errors: null\n      });\n\n    case 'REGISTRATION_FAILED':\n      return _objectSpread({}, state, action.data, {\n        isAuthenticated: false,\n        isLoading: false,\n        errors: action.data\n      });\n\n    case 'LOGIN_SUCCESSFUL':\n      localStorage.setItem(\"token\", action.data.token);\n      return _objectSpread({}, state, action.data, {\n        isAuthenticated: true,\n        isLoading: false,\n        errors: null,\n        login_errors: null\n      });\n\n    case 'AUTHENTICATION_ERROR':\n    case 'LOGIN_FAILED':\n      return _objectSpread({}, state, action.data, {\n        isAuthenticated: false,\n        isLoading: false,\n        errors: null,\n        login_errors: action.data\n      });\n\n    case 'UPDATE_SUCCESSFUL':\n      return _objectSpread({}, state, {\n        user: action.user,\n        isAuthenticated: true,\n        isLoading: false,\n        errors: null\n      });\n\n    case 'UPDATE_FAILED':\n      return _objectSpread({}, state, {\n        isAuthenticated: true,\n        isLoading: false,\n        errors: action.data\n      });\n\n    case 'LOGOUT_SUCCESSFUL':\n      localStorage.removeItem(\"token\");\n      return _objectSpread({}, state, {\n        errors: action.data,\n        token: null,\n        user: null,\n        isAuthenticated: false,\n        isLoading: false\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/asiataylor/Development/env1/django-drf-react/project/frontend/src/reducers/auth.js"],"names":["initialState","token","localStorage","getItem","isAuthenticated","isLoading","user","errors","login_errors","auth","state","action","type","setItem","data","removeItem"],"mappings":";AAAA,MAAMA,YAAY,GAAG;AACnBC,EAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADY;AAEnBC,EAAAA,eAAe,EAAE,IAFE;AAGnBC,EAAAA,SAAS,EAAE,IAHQ;AAInBC,EAAAA,IAAI,EAAE,IAJa;AAKnBC,EAAAA,MAAM,EAAC,EALY;AAMnBC,EAAAA,YAAY,EAAC;AANM,CAArB;AAUA,eAAe,SAASC,IAAT,CAAcC,KAAK,GAACV,YAApB,EAAkCW,MAAlC,EAA0C;AAEvD,UAAQA,MAAM,CAACC,IAAf;AAEE,SAAK,cAAL;AACE,+BAAWF,KAAX;AAAkBL,QAAAA,SAAS,EAAE;AAA7B;;AAEF,SAAK,aAAL;AACE,+BAAWK,KAAX;AAAkBN,QAAAA,eAAe,EAAE,IAAnC;AAAyCC,QAAAA,SAAS,EAAE,KAApD;AAA2DC,QAAAA,IAAI,EAAEK,MAAM,CAACL;AAAxE;;AAEF,SAAK,yBAAL;AACEJ,MAAAA,YAAY,CAACW,OAAb,CAAqB,OAArB,EAA8BF,MAAM,CAACG,IAAP,CAAYb,KAA1C;AACA,+BAAWS,KAAX,EAAqBC,MAAM,CAACG,IAA5B;AAAkCV,QAAAA,eAAe,EAAE,IAAnD;AAAyDC,QAAAA,SAAS,EAAE,KAApE;AAA2EE,QAAAA,MAAM,EAAE;AAAnF;;AAEF,SAAK,qBAAL;AACE,+BAAWG,KAAX,EAAqBC,MAAM,CAACG,IAA5B;AAAkCV,QAAAA,eAAe,EAAE,KAAnD;AAA0DC,QAAAA,SAAS,EAAE,KAArE;AACEE,QAAAA,MAAM,EAAEI,MAAM,CAACG;AADjB;;AAEF,SAAK,kBAAL;AACEZ,MAAAA,YAAY,CAACW,OAAb,CAAqB,OAArB,EAA8BF,MAAM,CAACG,IAAP,CAAYb,KAA1C;AACA,+BAAWS,KAAX,EAAqBC,MAAM,CAACG,IAA5B;AAAkCV,QAAAA,eAAe,EAAE,IAAnD;AAAyDC,QAAAA,SAAS,EAAE,KAApE;AACEE,QAAAA,MAAM,EAAE,IADV;AACeC,QAAAA,YAAY,EAAC;AAD5B;;AAGF,SAAK,sBAAL;AACA,SAAK,cAAL;AACE,+BAAWE,KAAX,EAAqBC,MAAM,CAACG,IAA5B;AAAkCV,QAAAA,eAAe,EAAE,KAAnD;AAA0DC,QAAAA,SAAS,EAAE,KAArE;AACEE,QAAAA,MAAM,EAAC,IADT;AACeC,QAAAA,YAAY,EAAEG,MAAM,CAACG;AADpC;;AAGF,SAAK,mBAAL;AACE,+BAAWJ,KAAX;AAAkBJ,QAAAA,IAAI,EAAEK,MAAM,CAACL,IAA/B;AAAqCF,QAAAA,eAAe,EAAE,IAAtD;AAA4DC,QAAAA,SAAS,EAAE,KAAvE;AACEE,QAAAA,MAAM,EAAC;AADT;;AAGF,SAAK,eAAL;AACE,+BAAWG,KAAX;AAAkBN,QAAAA,eAAe,EAAE,IAAnC;AAAyCC,QAAAA,SAAS,EAAE,KAApD;AACEE,QAAAA,MAAM,EAAEI,MAAM,CAACG;AADjB;;AAGF,SAAK,mBAAL;AACEZ,MAAAA,YAAY,CAACa,UAAb,CAAwB,OAAxB;AACA,+BAAWL,KAAX;AAAkBH,QAAAA,MAAM,EAAEI,MAAM,CAACG,IAAjC;AAAuCb,QAAAA,KAAK,EAAE,IAA9C;AAAoDK,QAAAA,IAAI,EAAE,IAA1D;AACEF,QAAAA,eAAe,EAAE,KADnB;AAC0BC,QAAAA,SAAS,EAAE;AADrC;;AAGF;AACE,aAAOK,KAAP;AAvCJ;AAyCD","sourcesContent":["const initialState = {\n  token: localStorage.getItem(\"token\"),\n  isAuthenticated: null,\n  isLoading: true,\n  user: null,\n  errors:{},\n  login_errors:{}\n};\n\n\nexport default function auth(state=initialState, action) {\n\n  switch (action.type) {\n\n    case 'USER_LOADING':\n      return {...state, isLoading: true};\n\n    case 'USER_LOADED':\n      return {...state, isAuthenticated: true, isLoading: false, user: action.user};\n\n    case 'REGISTRATION_SUCCESSFUL':\n      localStorage.setItem(\"token\", action.data.token);\n      return {...state, ...action.data, isAuthenticated: true, isLoading: false, errors: null};\n\n    case 'REGISTRATION_FAILED':\n      return {...state, ...action.data, isAuthenticated: false, isLoading: false,\n        errors: action.data};\n    case 'LOGIN_SUCCESSFUL':\n      localStorage.setItem(\"token\", action.data.token);\n      return {...state, ...action.data, isAuthenticated: true, isLoading: false,\n        errors: null,login_errors:null};\n\n    case 'AUTHENTICATION_ERROR':\n    case 'LOGIN_FAILED':\n      return {...state, ...action.data, isAuthenticated: false, isLoading: false,\n        errors:null, login_errors: action.data};\n\n    case 'UPDATE_SUCCESSFUL':\n      return {...state, user: action.user, isAuthenticated: true, isLoading: false,\n        errors:null};\n\n    case 'UPDATE_FAILED':\n      return {...state, isAuthenticated: true, isLoading: false,\n        errors: action.data};\n\n    case 'LOGOUT_SUCCESSFUL':\n      localStorage.removeItem(\"token\");\n      return {...state, errors: action.data, token: null, user: null,\n        isAuthenticated: false, isLoading: false};\n\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}