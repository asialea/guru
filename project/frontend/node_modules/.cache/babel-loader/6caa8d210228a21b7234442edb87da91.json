{"ast":null,"code":"var _jsxFileName = \"/Users/asiataylor/Development/env1/django-drf-react/project/frontend/src/components/views/AboutView.js\";\nimport React, { Component } from 'react';\nimport Navbar from './Navbar';\nimport '../static/About.css';\nimport { FaGithub, FaLinkedin, FaTwitter, FaEnvelope, FaUser, FaFacebook, FaLink, FaMapMarker, FaStar, FaTimes } from 'react-icons/fa';\nimport ReccPopup from '../forms/ReccPopup';\nimport EmailPopup from '../forms/EmailPopup';\nimport { Link } from 'react-router-dom';\nimport { Tabs, TabLink, TabContent } from 'react-tabs-redux';\nimport IconButton from '@material-ui/core/IconButton';\nimport { connect } from \"react-redux\";\nimport { headers } from '../forms/global.js';\n\nclass AboutView extends Component {\n  constructor() {\n    super();\n\n    this.fetchRec = () => {\n      fetch(\"/api/rec/\".concat(this.props.match.params.username, \"/\")).then(response => {\n        return response.json();\n      }).then(responseData => {\n        return responseData;\n      }).then(json => {\n        this.setState({\n          rec: json.data\n        });\n        this.setState({\n          avg: json.avg\n        });\n      }).catch(err => {\n        console.log(\"fetch error\" + err);\n      });\n    };\n\n    this.togglePopup = e => {\n      e.preventDefault();\n      this.setState({\n        showPopup: !this.state.showPopup\n      });\n    };\n\n    this.toggleEmailPopup = e => {\n      e.preventDefault();\n      this.setState({\n        emailPopup: !this.state.emailPopup\n      });\n    };\n\n    this.state = {\n      user: {},\n      aboutUser: {},\n      work: [],\n      education: [],\n      skills: [],\n      interests: [],\n      rec: [],\n      avi: {},\n      showPopup: false,\n      avg: null,\n      emailPopup: false\n    };\n  }\n\n  deleteReview(id) {\n    let body = JSON.stringify({\n      id\n    });\n    headers[\"Authorization\"] = \"Token \".concat(this.props.token);\n    fetch(\"/api/rec/\".concat(this.props.match.params.username, \"/\"), {\n      headers,\n      body,\n      method: \"DELETE\"\n    }).then(res => {\n      return res.json();\n    }).then(() => this.fetchRec()).catch(err => {\n      console.log(\"fetch error\" + err);\n    });\n  }\n\n  componentWillMount() {\n    fetch(\"/api/user/\".concat(this.props.match.params.username, \"/\")).then(response => {\n      return response.json();\n    }).then(responseData => {\n      return responseData;\n    }).then(json => {\n      this.setState({\n        user: json[0]\n      });\n    }).catch(err => {\n      console.log(\"fetch error\" + err);\n    });\n    fetch(\"/api/aboutUser/\".concat(this.props.match.params.username, \"/\")).then(response => {\n      return response.json();\n    }).then(responseData => {\n      return responseData;\n    }).then(json => this.setState({\n      aboutUser: json\n    })).catch(err => {\n      console.log(\"fetch error\" + err);\n    });\n    fetch(\"/api/work/\".concat(this.props.match.params.username, \"/\")).then(response => {\n      return response.json();\n    }).then(responseData => {\n      return responseData;\n    }).then(json => this.setState({\n      work: json\n    })).catch(err => {\n      console.log(\"fetch error\" + err);\n    });\n    fetch(\"/api/edu/\".concat(this.props.match.params.username, \"/\")).then(response => {\n      return response.json();\n    }).then(responseData => {\n      return responseData;\n    }).then(json => this.setState({\n      education: json\n    })).catch(err => {\n      console.log(\"fetch error\" + err);\n    });\n    fetch(\"/api/skills/\".concat(this.props.match.params.username, \"/\")).then(response => {\n      return response.json();\n    }).then(responseData => {\n      return responseData;\n    }).then(json => this.setState({\n      skills: json\n    })).catch(err => {\n      console.log(\"fetch error\" + err);\n    });\n    fetch(\"/api/interests/\".concat(this.props.match.params.username, \"/\")).then(response => {\n      return response.json();\n    }).then(responseData => {\n      return responseData;\n    }).then(json => this.setState({\n      interests: json\n    })).catch(err => {\n      console.log(\"fetch error\" + err);\n    });\n    this.fetchRec();\n  }\n\n  parseDate(timestamp) {\n    if (timestamp) {\n      var t = timestamp.split(/[-:T]/);\n      var d = new Date(Date.UTC(t[0], t[1], t[2]));\n      return d.toString().slice(4, 15);\n    }\n  }\n\n  parse_type(type) {\n    return type === 'MR' ? 'Mentor' : 'Mentee';\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"body\",\n      id: \"about\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      history: this.props.history,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"flex-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"about-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, this.state.emailPopup ? React.createElement(EmailPopup, {\n      sender: this.props.user.email,\n      reciever: this.state.user.email,\n      text: \"Send email to \" + this.state.user.first_name,\n      closePopup: this.toggleEmailPopup.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }) : null, React.createElement(\"section\", {\n      id: \"bio-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"square-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      id: \"pro-pic\",\n      alt: \"user avi\",\n      src: this.state.user.avi__avi_path,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      id: \"recommend\",\n      onClick: this.togglePopup,\n      className: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Write a Review\"), React.createElement(\"div\", {\n      id: \"bio-contact\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      id: \"bio\",\n      className: \"desc res-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, this.state.aboutUser.bio))), React.createElement(\"section\", {\n      id: \"about-user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      id: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, this.state.user.first_name, \" \", this.state.user.last_name), React.createElement(\"button\", {\n      id: \"recommend\",\n      onClick: this.togglePopup,\n      className: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"Write a Review\"), this.state.showPopup ? React.createElement(ReccPopup, {\n      fetch: this.fetchRec,\n      username: this.props.match.params.username,\n      user_id: this.state.user.id,\n      text: \"Tell us about \" + this.state.user.first_name,\n      closePopup: this.togglePopup.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }) : null, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, this.state.avg ? Array(this.state.avg).fill(React.createElement(FaStar, {\n      className: \"social-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    })) : null), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(FaUser, {\n      fill: \"#e27d60\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }), \" @\", this.state.user.username, \" (\", this.parse_type(this.state.user.type), \")\"), this.state.aboutUser.location ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(FaMapMarker, {\n      fill: \"#e27d60\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }), \" \", this.state.aboutUser.location) : null, React.createElement(\"p\", {\n      className: \"social\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, this.state.aboutUser.github !== \"\" ? React.createElement(\"a\", {\n      href: this.state.aboutUser.github,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(FaGithub, {\n      className: \"social-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    })) : null, this.state.aboutUser.linkedin !== \"\" ? React.createElement(\"a\", {\n      href: this.state.aboutUser.linkedin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(FaLinkedin, {\n      className: \"social-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    })) : null, this.state.aboutUser.twitter !== \"\" ? React.createElement(\"a\", {\n      href: this.state.aboutUser.twitter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(FaTwitter, {\n      className: \"social-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    })) : null, this.state.aboutUser.facebook !== \"\" ? React.createElement(\"a\", {\n      href: this.state.aboutUser.facebook,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(FaFacebook, {\n      className: \"social-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    })) : null, this.state.aboutUser.personal !== \"\" ? React.createElement(\"a\", {\n      href: this.state.aboutUser.personal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(FaLink, {\n      className: \"social-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    })) : null, React.createElement(\"span\", {\n      onClick: this.toggleEmailPopup,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(FaEnvelope, {\n      className: \"social-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    })))), React.createElement(\"section\", {\n      id: \"resume\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(Tabs, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"tablinks\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(TabLink, {\n      className: \"tablink contact-tab\",\n      to: \"tab5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"About\"), React.createElement(TabLink, {\n      className: \"tablink\",\n      to: \"tab1\",\n      default: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Experience\"), React.createElement(TabLink, {\n      className: \"tablink\",\n      to: \"tab2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"Education\"), React.createElement(TabLink, {\n      className: \"tablink\",\n      to: \"tab3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"Skills \"), React.createElement(TabLink, {\n      className: \"tablink\",\n      to: \"tab4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"Interests\"), React.createElement(TabLink, {\n      className: \"tablink\",\n      to: \"tab6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"Reviews\")), React.createElement(TabContent, {\n      className: \"contact-tab\",\n      for: \"tab5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(\"article\", {\n      id: \"bio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"desc res-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, this.state.aboutUser.bio))), React.createElement(TabContent, {\n      for: \"tab1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, this.state.work.length > 0 ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, this.state.work.map(el => {\n      return React.createElement(\"div\", {\n        className: \"edu-ex\",\n        key: el.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"main res-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, el.company, \", \"), React.createElement(\"span\", {\n        className: \"res-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, el.location, \" -\"), React.createElement(\"span\", {\n        className: \"position\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, el.position, \" \"), React.createElement(\"p\", {\n        className: \"date res-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, this.parseDate(el.start), \" - \", this.parseDate(el.end)), React.createElement(\"p\", {\n        className: \"desc res-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, el.description));\n    })) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, \" No items \")), React.createElement(TabContent, {\n      for: \"tab2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, this.state.work.educaion > 0 ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, this.state.education.map(el => {\n      return React.createElement(\"div\", {\n        className: \"edu-ex\",\n        key: el.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"main res-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, el.school, \", \"), React.createElement(\"span\", {\n        className: \"res-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, el.location, \" -\"), React.createElement(\"span\", {\n        className: \"position\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, el.degree, \" \"), React.createElement(\"p\", {\n        className: \"edu res-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, this.parseDate(el.start), \" - \", this.parseDate(el.end)));\n    })) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, \"No items \")), React.createElement(TabContent, {\n      for: \"tab3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, this.state.skills.length > 0 ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, this.state.skills.map(el => {\n      return React.createElement(\"div\", {\n        className: \"skill\",\n        key: el.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, el.skill, \" \", el.level);\n    })) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"No items\")), React.createElement(TabContent, {\n      for: \"tab4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, this.state.interests.length > 0 ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, this.state.interests.map(el => {\n      return React.createElement(\"div\", {\n        className: \"skill\",\n        key: el.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, el.interest);\n    })) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, \" No items\")), React.createElement(TabContent, {\n      for: \"tab6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, this.state.rec.length > 0 ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, this.state.rec.map((el, idx) => {\n      return React.createElement(\"div\", {\n        className: \"edu-ex\",\n        key: idx,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"desc res-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, \"\\\"\", el.text, \"\\\" - \", React.createElement(Link, {\n        to: \"/about/\".concat(el.author__username),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, \"@\", el.author__username), el.author__username === this.props.user.username ? React.createElement(IconButton, {\n        onClick: e => {\n          e.preventDefault();\n          this.deleteReview(el.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(FaTimes, {\n        className: \"delete\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      })) : null));\n    })) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, \"No items\")))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.auth.token,\n    user: state.auth.user\n  };\n};\n\nexport default connect(mapStateToProps)(AboutView);","map":{"version":3,"sources":["/Users/asiataylor/Development/env1/django-drf-react/project/frontend/src/components/views/AboutView.js"],"names":["React","Component","Navbar","FaGithub","FaLinkedin","FaTwitter","FaEnvelope","FaUser","FaFacebook","FaLink","FaMapMarker","FaStar","FaTimes","ReccPopup","EmailPopup","Link","Tabs","TabLink","TabContent","IconButton","connect","headers","AboutView","constructor","fetchRec","fetch","props","match","params","username","then","response","json","responseData","setState","rec","data","avg","catch","err","console","log","togglePopup","e","preventDefault","showPopup","state","toggleEmailPopup","emailPopup","user","aboutUser","work","education","skills","interests","avi","deleteReview","id","body","JSON","stringify","token","method","res","componentWillMount","parseDate","timestamp","t","split","d","Date","UTC","toString","slice","parse_type","type","render","history","email","first_name","bind","avi__avi_path","bio","last_name","Array","fill","location","github","linkedin","twitter","facebook","personal","length","map","el","company","position","start","end","description","educaion","school","degree","skill","level","interest","idx","text","author__username","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Navbar from './Navbar';\nimport '../static/About.css';\nimport {FaGithub,FaLinkedin,FaTwitter,FaEnvelope,FaUser,FaFacebook,FaLink,FaMapMarker,FaStar,FaTimes} from 'react-icons/fa';\nimport ReccPopup from '../forms/ReccPopup';\nimport EmailPopup from '../forms/EmailPopup';\nimport {Link} from 'react-router-dom';\nimport {Tabs,TabLink,TabContent} from 'react-tabs-redux';\nimport IconButton from '@material-ui/core/IconButton';\nimport {connect} from \"react-redux\";\nimport {headers} from '../forms/global.js'\n\n\nclass AboutView extends Component{\n  constructor() {\n    super()\n    this.state = {\n      user:{},\n      aboutUser:{},\n      work:[],\n      education:[],\n      skills:[],\n      interests:[],\n      rec:[],\n      avi:{},\n      showPopup: false,\n      avg:null,\n      emailPopup:false,\n    }\n  }\n\n  fetchRec = ()=>{\n    fetch(`/api/rec/${this.props.match.params.username}/`)\n     .then(response => { return response.json();}).then(responseData => {return responseData;})\n    .then (json =>{this.setState({rec: json.data});this.setState({avg: json.avg})} ).catch(err => {\n          console.log(\"fetch error\" + err);\n      });\n  }\n\ndeleteReview(id){\n  let body = JSON.stringify({id});\n  headers[\"Authorization\"] = `Token ${this.props.token}`;\n  fetch(`/api/rec/${this.props.match.params.username}/`, {headers,body,method:\"DELETE\"})\n  .then(res => {return res.json();}).then(()=>this.fetchRec())\n  .catch(err => {console.log(\"fetch error\" + err)})\n}\n\ncomponentWillMount(){\n fetch(`/api/user/${this.props.match.params.username}/`)\n  .then(response => { return response.json();}).then(responseData => {return responseData;})\n  .then (json =>{this.setState({user: json[0]});})\n  .catch(err => {console.log(\"fetch error\" + err);\n    });\n\n  fetch(`/api/aboutUser/${this.props.match.params.username}/`)\n    .then(response => { return response.json();}).then(responseData => {return responseData; })\n   .then (json =>this.setState({aboutUser: json})).catch(err => {\n         console.log(\"fetch error\" + err);\n     })\n\n fetch(`/api/work/${this.props.match.params.username}/`)\n   .then(response => { return response.json();}).then(responseData => {return responseData; })\n  .then (json =>this.setState({work: json})).catch(err => {\n        console.log(\"fetch error\" + err);\n    });\n\n  fetch(`/api/edu/${this.props.match.params.username}/`)\n    .then(response => { return response.json();}).then(responseData => {return responseData;})\n   .then (json =>this.setState({education: json})).catch(err => {\n         console.log(\"fetch error\" + err);\n     });\n\n  fetch(`/api/skills/${this.props.match.params.username}/`)\n   .then(response => { return response.json();}).then(responseData => {return responseData;})\n  .then (json =>this.setState({skills: json})).catch(err => {\n        console.log(\"fetch error\" + err);\n    });\n\n  fetch(`/api/interests/${this.props.match.params.username}/`)\n   .then(response => { return response.json();}).then(responseData => {return responseData;})\n  .then (json =>this.setState({interests: json})).catch(err => {\n        console.log(\"fetch error\" + err);\n    });\n\n  this.fetchRec()\n\n  }\n\n  parseDate(timestamp){\n    if(timestamp){\n    var t = timestamp.split(/[-:T]/)\n    var d = new Date(Date.UTC(t[0],t[1],t[2]));\n    return d.toString().slice(4,15)\n    }\n  }\n\n  parse_type(type){\n    return (type ==='MR' ? 'Mentor' : 'Mentee')\n  }\n\n  togglePopup= e => {\n    e.preventDefault();\n    this.setState({\n     showPopup: !this.state.showPopup\n    });\n  }\n\n  toggleEmailPopup= e => {\n    e.preventDefault();\n    this.setState({\n     emailPopup: !this.state.emailPopup\n    });\n  }\n\n  render(){\n    return(\n    <div className=\"body\" id=\"about\">\n      <header>\n        <Navbar history={this.props.history}/>\n      </header>\n\n      <div className=\"flex-box\">\n      <div className=\"about-body\">\n\n      {this.state.emailPopup ?\n        <EmailPopup  sender={this.props.user.email} reciever={this.state.user.email}\n         text={\"Send email to \"+this.state.user.first_name} closePopup={this.toggleEmailPopup.bind(this)}/>\n          : null}\n\n      <section id=\"bio-section\">\n        <div className=\"square-container\">\n          <img id=\"pro-pic\" alt=\"user avi\" src={this.state.user.avi__avi_path}/>\n        </div>\n\n        <button id=\"recommend\" onClick={this.togglePopup} className=\"submit\">Write a Review</button>\n\n        <div id=\"bio-contact\">\n            <p id=\"bio\" className=\"desc res-item\">{this.state.aboutUser.bio}</p>\n        </div>\n      </section>\n\n      <section id=\"about-user\">\n        <p id=\"name\">\n          {this.state.user.first_name} {this.state.user.last_name}\n        </p>\n        <button id=\"recommend\" onClick={this.togglePopup} className=\"submit\">Write a Review</button>\n        {this.state.showPopup ?\n          <ReccPopup fetch={this.fetchRec} username={this.props.match.params.username}\n          user_id={this.state.user.id} text={\"Tell us about \"+this.state.user.first_name} closePopup={this.togglePopup.bind(this)}/>\n        : null\n        }\n        <p>{this.state.avg ? Array(this.state.avg).fill(<FaStar className=\"social-icon\"/>):null}</p>\n\n        <p><FaUser fill=\"#e27d60\"/> @{this.state.user.username} ({this.parse_type(this.state.user.type)})</p>\n        {this.state.aboutUser.location ? <p><FaMapMarker fill=\"#e27d60\"/> {this.state.aboutUser.location}</p> : null}\n\n        <p className=\"social\">\n        {this.state.aboutUser.github !== \"\" ? <a href={this.state.aboutUser.github}><FaGithub className=\"social-icon\"/></a> : null}\n        {this.state.aboutUser.linkedin !== \"\" ? <a href={this.state.aboutUser.linkedin}><FaLinkedin className=\"social-icon\"/></a> :null}\n        {this.state.aboutUser.twitter !== \"\" ? <a href={this.state.aboutUser.twitter}><FaTwitter className=\"social-icon\"/></a>:null}\n        {this.state.aboutUser.facebook !== \"\" ? <a href={this.state.aboutUser.facebook}><FaFacebook className=\"social-icon\"/></a>:null}\n        {this.state.aboutUser.personal !== \"\" ? <a href={this.state.aboutUser.personal}><FaLink className=\"social-icon\"/></a>:null}\n\n          <span onClick={this.toggleEmailPopup}><FaEnvelope className=\"social-icon\"/></span>\n        </p>\n      </section>\n\n\n\n      <section id=\"resume\">\n        <Tabs>\n        <div id=\"tablinks\">\n          <TabLink className='tablink contact-tab' to=\"tab5\">About</TabLink>\n          <TabLink className='tablink' to=\"tab1\" default>Experience</TabLink>\n          <TabLink className='tablink' to=\"tab2\">Education</TabLink>\n          <TabLink className='tablink' to=\"tab3\">Skills </TabLink>\n          <TabLink className='tablink' to=\"tab4\">Interests</TabLink>\n          <TabLink className='tablink' to=\"tab6\">Reviews</TabLink>\n        </div>\n\n        <TabContent className='contact-tab' for=\"tab5\">\n          <article id=\"bio\">\n            <p className=\"desc res-item\">{this.state.aboutUser.bio}</p>\n          </article>\n        </TabContent>\n\n        <TabContent for=\"tab1\">\n          {this.state.work.length > 0 ?\n           <div>\n\n               {this.state.work.map(el => {\n                 return <div className=\"edu-ex\" key={el.id}>\n                      <h3 className=\"main res-item\">{el.company}, </h3><span className=\"res-item\">{el.location} -</span>\n                      <span className=\"position\">{el.position} </span>\n                      <p className=\"date res-item\">{this.parseDate(el.start)} - {this.parseDate(el.end)}</p>\n                      <p className=\"desc res-item\">{el.description}</p>\n                 </div>\n             })}\n            </div>\n             :<p> No items </p>}\n        </TabContent>\n\n        <TabContent for=\"tab2\">\n          {this.state.work.educaion > 0 ?\n            <div>\n              {this.state.education.map(el => {\n                    return <div className=\"edu-ex\" key={el.id}>\n                         <h3 className=\"main res-item\">{el.school}, </h3><span className=\"res-item\">{el.location} -</span>\n                         <span className=\"position\">{el.degree} </span>\n                         <p className=\"edu res-item\">{this.parseDate(el.start)} - {this.parseDate(el.end)}</p>\n                    </div>\n                })}\n            </div>\n            : <p>No items </p>}\n        </TabContent>\n\n        <TabContent for=\"tab3\">\n          {this.state.skills.length > 0 ?\n            <div>\n            {this.state.skills.map(el => {\n                  return <div className=\"skill\" key={el.id}>\n                       {el.skill} {el.level}\n\n                  </div>\n              })}\n            </div>\n            : <p>No items</p>}\n        </TabContent>\n\n          <TabContent for=\"tab4\">\n          {this.state.interests.length > 0 ?\n            <div>\n            {this.state.interests.map(el => {\n                  return <div className=\"skill\" key={el.id}>\n                       {el.interest}\n                  </div>\n              })}\n            </div>\n            :<p> No items</p>}\n          </TabContent>\n\n        <TabContent for=\"tab6\">\n        {this.state.rec.length > 0 ?\n          <div>\n            {this.state.rec.map((el,idx) =>{\n                  return <div className=\"edu-ex\" key={idx}>\n                       <p className=\"desc res-item\">\n                        \"{el.text}\" - <Link to={`/about/${el.author__username}`}>@{el.author__username}</Link>\n                        {el.author__username === this.props.user.username ?\n                          <IconButton onClick={e=>{e.preventDefault();this.deleteReview(el.id);}}><FaTimes className=\"delete\"/></IconButton>\n                        : null}\n                       </p>\n                  </div>\n              })}\n          </div>\n          :<p>No items</p>}\n        </TabContent>\n        </Tabs>\n        </section>\n        </div>\n      </div>\n    </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n    return {\n      token:state.auth.token,\n      user: state.auth.user,\n    }\n}\n\n\n\nexport default connect(mapStateToProps)(AboutView);\n"]},"metadata":{},"sourceType":"module"}